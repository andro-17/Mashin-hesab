<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
<style>
/* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯ */
body {
display: flex;
justify-content: center;
align-items: center;
height: 100vh;
margin: 0;
background: #1a1a1a;
font-family: Arial, sans-serif;
position: relative;
}
.calculator {
border-radius: 15px;
padding: 20px;
background: #2d2d2d;
box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
width: 300px;
max-width: 90%;
}
.theme-switch {
position: absolute;
top: 20px;
left: 20px;
cursor: pointer;
border: none;
border-radius: 5px;
background: #444;
height: 60px;
width: 60px;
display: flex;
justify-content: center;
align-items: center;
z-index: 10;
}
.theme-switch:hover {
background: #555;
}
.light-mode .theme-switch {
background: #bbb;
}
.light-mode .theme-switch:hover {
background: #aaa;
}
.display {
width: 100%;
height: 50px;
margin-bottom: 15px;
font-size: 24px;
text-align: right;
padding: 10px;
border: none;
border-radius: 5px;
background: #e8e8e8;
color: #000;
box-sizing: border-box;
}
.buttons {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 10px;
width: 100%;
}
button {
padding: 15px;
font-size: 18px;
cursor: pointer;
border: none;
border-radius: 5px;
background: #4a4a4a;
color: white;
transition: transform 0.1s, background 0.2s;
height: 60px;
width: 100%;
display: flex;
justify-content: center;
align-items: center;
}
button:hover {
background: #5a5a5a;
transform: scale(1.05);
}
.operator {
background: #f08c00;
}
.operator:hover {
background: #e07b00;
}
.function {
background: #666;
}
.function:hover {
background: #777;
}
.backspace-btn {
background: #4a4a4a;
color: #ff4444;
}
.backspace-btn:hover {
background: #5a5a5a;
color: #ff6666;
}
.clear-btn {
background: #4a4a4a;
color: #ff4444;
}
.clear-btn:hover {
background: #5a5a5a;
color: #ff6666;
}
.empty {
background: none;
border: none;
cursor: default;
}
.empty:hover {
transform: none;
background: none;
}
.camera-btn {
background: #27ae60;
}
.camera-btn:hover {
background: #219653;
transform: scale(1.05);
}
.video-container {
display: none;
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background: #2d2d2d;
padding: 20px;
border-radius: 10px;
z-index: 1000;
}
#video, #canvas {
width: 300px;
height: 300px;
}
.light-mode {
background: #f0f0f0;
}
.light-mode .calculator {
background: #e0e0e0;
box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}
.light-mode .display {
background: #fff;
}
.light-mode button {
background: #bbb;
color: #000;
}
.light-mode button:hover {
background: #aaa;
}
.light-mode .operator {
background: #ffaa33;
}
.light-mode .operator:hover {
background: #ff9900;
}
.light-mode .function {
background: #999;
}
.light-mode .function:hover {
background: #888;
}
.light-mode .backspace-btn {
background: #ddd;
color: #cc0000;
}
.light-mode .backspace-btn:hover {
background: #ccc;
color: #ff0000;
}
.light-mode .clear-btn {
background: #ddd;
color: #cc0000;
}
.light-mode .clear-btn:hover {
background: #ccc;
color: #ff0000;
}
.light-mode .camera-btn {
background: #27ae60;
}
.light-mode .camera-btn:hover {
background: #219653;
}

@media (max-width: 320px) {
.calculator {
padding: 10px;
width: 100%;
}
.buttons {
gap: 5px;
grid-template-columns: repeat(4, 1fr);
}
button {
height: 50px;
font-size: 16px;
padding: 10px;
}
.theme-switch {
top: 10px;
left: 10px;
height: 50px;
width: 50px;
}
}
</style>
</head>
<body>
<button class="theme-switch" onclick="toggleTheme()">
<svg xml:space="preserve" viewBox="0 0 206.622 206.622" width="40" height="40" fill="#ffffff">
<g>
<g>
<g>
<path d="M155.287,58.38c-6.703-7.189-14.65-12.775-23.62-16.603c-1.299-0.552-2.8-0.291-3.83,0.672
c-1.034,0.963-1.4,2.443-0.94,3.777c8.128,23.444,1.654,49.524-16.485,66.441c-18.146,16.918-44.614,21.557-67.43,11.812
c-1.288-0.55-2.8-0.291-3.83,0.672c-1.034,0.963-1.4,2.443-0.94,3.777c3.197,9.218,8.215,17.535,14.918,24.72
c12.721,13.643,29.996,21.517,48.64,22.168c0.836,0.03,1.668,0.043,2.5,0.043c17.728,0,34.54-6.611,47.571-18.764
c13.647-12.724,21.517-29.998,22.168-48.643C174.658,89.807,168.011,72.025,155.287,58.38z M166.883,108.203
c-0.585,16.74-7.655,32.251-19.905,43.675c-12.25,11.423-28.223,17.425-44.959,16.809c-16.743-0.583-32.252-7.652-43.674-19.904
c-4.21-4.511-7.678-9.519-10.363-14.947c23.47,6.872,49.127,0.987,67.291-15.952c18.167-16.941,25.828-42.13,20.608-66.02
c5.23,3.057,9.984,6.867,14.19,11.382C161.496,75.496,167.465,91.464,166.883,108.203z"></path>
<path d="M167.607,163.757c-1.393-1.393-3.649-1.393-5.042,0s-1.393,3.649,0,5.042l7.563,7.563
c0.696,0.696,1.609,1.045,2.521,1.045c0.912,0,1.825-0.348,2.521-1.045c1.393-1.393,1.393-3.649,0-5.042L167.607,163.757z"></path>
<path d="M170.128,30.259l-7.563,7.565c-1.393,1.393-1.393,3.651,0,5.042c0.696,0.696,1.609,1.045,2.521,1.045
s1.825-0.348,2.521-1.045l7.563-7.565c1.393-1.393,1.393-3.651,0-5.042C173.777,28.866,171.521,28.866,170.128,30.259z"></path>
<path d="M103.311,188.793c-1.971,0-3.566,1.597-3.566,3.566v10.697c0,1.969,1.595,3.566,3.566,3.566
c1.971,0,3.566-1.597,3.566-3.566v-10.697C106.877,190.39,105.282,188.793,103.311,188.793z"></path>
<path d="M201.371,99.745h-10.697c-1.971,0-3.566,1.597-3.566,3.566c0,1.969,1.595,3.566,3.566,3.566h10.697
c1.971,0,3.566-1.597,3.566-3.566C204.937,101.342,203.341,99.745,201.371,99.745z"></path>
<path d="M39.015,42.866c0.696,0.696,1.609,1.045,2.521,1.045s1.825-0.348,2.521-1.045c1.393-1.391,1.393-3.649,0-5.042
l-7.563-7.565c-1.393-1.393-3.649-1.393-5.042,0c-1.393,1.391-1.393,3.649,0,5.042L39.015,42.866z"></path>
<path d="M39.015,163.757l-7.563,7.563c-1.393,1.393-1.393,3.649,0,5.042c0.696,0.696,1.609,1.045,2.521,1.045
c0.912,0,1.825-0.348,2.521-1.045l7.563-7.563c1.393-1.393,1.393-3.649,0-5.042C42.664,162.364,40.408,162.364,39.015,163.757z"></path>
<path d="M103.311,17.829c1.971,0,3.566-1.597,3.566-3.566V3.566c0-1.969-1.595-3.566-3.566-3.566
c-1.971,0-3.566,1.597-3.566,3.566v10.697C99.745,16.232,101.34,17.829,103.311,17.829z"></path>
<path d="M15.949,99.745H5.251c-1.971,0-3.566,1.597-3.566,3.566c0,1.969,1.595,3.566,3.566,3.566h10.697
c1.971,0,3.566-1.597,3.566-3.566C19.514,101.342,17.919,99.745,15.949,99.745z"></path>
</g>
</g>
</g>
</svg>
</button>
<div class="calculator">
<input type="text" class="display" id="display" readonly>
<div class="buttons">
<button class="backspace-btn" onclick="backspace()">C</button>
<button class="clear-btn" onclick="clearAll()">AC</button>
<button class="function" onclick="appendToDisplay('%')">%</button>
<button class="operator" onclick="appendToDisplay('Ã·')">Ã·</button>
<button onclick="appendToDisplay('7')">7</button>
<button onclick="appendToDisplay('8')">8</button>
<button onclick="appendToDisplay('9')">9</button>
<button class="operator" onclick="appendToDisplay('*')">Ã—</button>
<button onclick="appendToDisplay('4')">4</button>
<button onclick="appendToDisplay('5')">5</button>
<button onclick="appendToDisplay('6')">6</button>
<button class="operator" onclick="appendToDisplay('-')">-</button>
<button onclick="appendToDisplay('1')">1</button>
<button onclick="appendToDisplay('2')">2</button>
<button onclick="appendToDisplay('3')">3</button>
<button class="operator" onclick="appendToDisplay('+')">+</button>
<button onclick="appendToDisplay('0')">0</button>
<button onclick="appendToDisplay('.')">.</button>
<button class="camera-btn" onclick="openCamera()">ğŸ“·</button>
<button class="operator" onclick="calculate()">=</button>
<button class="function" onclick="applyFunction('sqrt')">âˆš</button>
<button class="function" onclick="applyFunction('pow')">xÂ²</button>
<button class="function" onclick="applyFunction('cos')">cos</button>
<button class="function" onclick="applyFunction('sin')">sin</button>
</div>
</div>
<div class="video-container" id="video-container">
<video id="video" autoplay></video>
<canvas id="canvas" style="display: none;"></canvas>
<button onclick="captureImage()">Ú¯Ø±ÙØªÙ† Ø¹Ú©Ø³</button>
<button onclick="closeCamera()">Ø¨Ø³ØªÙ†</button>
</div>

<script src="https://unpkg.com/tesseract.js@v2.1.0/dist/tesseract.min.js"></script>
<script>
let display = document.getElementById('display');
let isDarkMode = true;
let video = document.getElementById('video');
let canvas = document.getElementById('canvas');
let videoContainer = document.getElementById('video-container');

function appendToDisplay(value) {
display.value += value;
}

function backspace() {
display.value = display.value.slice(0, -1);
}

function clearAll() {
display.value = '';
}

function applyFunction(func) {
try {
let value = parseFloat(display.value);
if (isNaN(value)) {
display.value = 'Ø®Ø·Ø§';
return;
}
switch (func) {
case 'sin':
display.value = Math.sin(value * Math.PI / 180).toFixed(4);
break;
case 'cos':
display.value = Math.cos(value * Math.PI / 180).toFixed(4);
break;
case 'sqrt':
display.value = Math.sqrt(value).toFixed(4);
break;
case 'pow':
display.value = Math.pow(value, 2).toFixed(4);
break;
}
} catch (error) {
display.value = 'Ø®Ø·Ø§';
}
}

function calculate() {
try {
let result = eval(display.value);
display.value = result.toFixed(4);
} catch (error) {
display.value = 'Ø®Ø·Ø§';
}
}

function toggleTheme() {
isDarkMode = !isDarkMode;
if (isDarkMode) {
document.body.classList.remove('light-mode');
document.querySelector('.theme-switch svg').setAttribute('fill', '#ffffff');
} else {
document.body.classList.add('light-mode');
document.querySelector('.theme-switch svg').setAttribute('fill', '#000000');
}
}

function openCamera() {
if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
alert('Ù…Ø±ÙˆØ±Ú¯Ø± ÛŒØ§ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø§Ø² Ø¯ÙˆØ±Ø¨ÛŒÙ† Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.');
return;
}
navigator.mediaDevices.getUserMedia({ video: true })
.then(stream => {
video.srcObject = stream;
videoContainer.style.display = 'block';
})
.catch(err => {
alert('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯ÙˆØ±Ø¨ÛŒÙ†: ' + err.message);
console.log('Ø®Ø·Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª:', err); // Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯
});
}

function closeCamera() {
let stream = video.srcObject;
if (stream) {
stream.getTracks().forEach(track => track.stop());
}
videoContainer.style.display = 'none';
}

function captureImage() {
const context = canvas.getContext('2d');
canvas.width = video.videoWidth;
canvas.height = video.videoHeight;
context.drawImage(video, 0, 0, canvas.width, canvas.height);
processImage();
}

async function processImage() {
const result = await Tesseract.recognize(canvas.toDataURL(), 'eng+fas', {
logger: info => console.log(info)
});
let text = result.data.text.trim();
console.log('Ù…ØªÙ† ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡:', text); // Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯
solveEquation(text);
closeCamera();
}

function solveEquation(text) {
try {
let expression = text.replace('Ã—', '*').replace('Ã·', '/').replace(/\s/g, '');
let result = eval(expression);
display.value = result.toFixed(4);
} catch (error) {
display.value = 'Ø®Ø·Ø§ Ø¯Ø± Ø­Ù„ Ù…Ø¹Ø§Ø¯Ù„Ù‡';
}
}

document.addEventListener('keydown', (event) => {
const key = event.key;
if ((key >= '0' && key <= '9') || key === '.' || key === '+' || key === '-' || key === '*' || key === '/' || key === '%') {
appendToDisplay(key);
} else if (key === 'Enter') {
calculate();
} else if (key === 'Backspace') {
backspace();
} else if (key === 'Escape') {
clearAll();
}
});
</script>
</body>
</html>